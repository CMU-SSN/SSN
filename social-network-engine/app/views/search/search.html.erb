<% content_for :header do %>
    <h3>Search</h3>
<% end %>
<% content_for :content do %>
  <div class="feed-item">
    <%= form_tag search_path do %>
        <%= text_field_tag 'q', @query, :placeholder => "Enter search here", :type => "search"%>
        <%= submit_tag 'Search', :data => { :role => 'button', :theme => 'b' } %>
    <% end %>
  </div>
  <% # Display results if a search has been made %>
  <% if !@results.nil? %>
    <% # A search was done. Display results or sorry if none %>
    <% if @results.length > 0 %>
      <% @results.each do |result| %>
        <div class="feed-item">
          <% # Find out what type of result this is and display that template %>
          <% if result[:type] == SearchResult::Type::USER %>
            <% # User template shows the user's name and his photo with a link to the user's profile%>
            <% # TODO(vmarmol): Change this link when we have profile links %>
            <a class="feed-top" href="/profile/when/it/exists">
              <img src="<%= result[:user].profile_pic %>" class="feed-user-image">

              <div class="feed-heading">
                <h2 class="feed-name">
                  <%= result[:user].name %>
                </h2>
              </div>
            </a>
          <% end %>
        </div>
      <% end %>
    <% else %>
      <div class="feed-item">
        Sorry, no results were found...
      </div>
    <% end %>
  <% end %>
<% end %>
<% content_for :scripts do %>
<% end %>
